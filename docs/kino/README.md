# Kino

Приложение для онлайн-покупки билетов в кинотеатр. Покупатель ищет фильм, выбирает сеанс, места в зале и оплачивает билет. Билет отправляется SMS-ссылкой после подтверждения оплаты.

**Цель:** стабильные онлайн-продажи 24/7 и снижение нагрузки на кассы за счёт самостоятельной покупки пользователями.

## Структура каталога

```
docs/kino/
├── README.md          # Обзор проекта
├── SRS.md             # Спецификация требований
├── openapi.yaml       # OpenAPI 3.0 — эндпоинты API
└── diagramm/          # Диаграммы
    ├── usecases.puml  # Use Case: поиск, выбор мест, оплата, история, отмена
    ├── sequence.puml  # Sequence: каталог, бронирование, оплата (cache + webhook)
    ├── activity.puml  # Activity: поиск/выбор фильма
    └── erd.dbd        # ER-модель данных (DBForge Studio)
```

## Артефакты

| Артефакт | Описание |
|----------|----------|
| **openapi.yaml** | OpenAPI 3.0 (Swagger): каталог, сеансы, бронирование, оплата, история, отмена, webhook. |
| **SRS.md** | Бизнес-требования, роли (Покупатель, Система оплаты, Сервис уведомлений), пользовательские и функциональные требования с нумерацией (BR, UR, FR, NFR, CON). |
| **usecases.puml** | Use case-диаграмма: поиск фильма, просмотр расписания, выбор мест и бронирование, оплата билетов, история покупок, отмена. |
| **sequence.puml** | Диаграмма последовательности: каталог/поиск (cache), просмотр фильма и мест, бронирование (10 мин), оплата (5 мин), webhook, выдача билетов. |
| **activity.puml** | Диаграмма деятельности: поиск и выбор фильма. |
| **erd.dbd** | ER-диаграмма модели данных. |

## Основной сценарий (sequence.puml)

1. **Каталог/поиск** — GET с фильтрами, cache hit/miss, TTL.
2. **Просмотр фильма и мест** — загрузка сеанса и схемы зала с кэшированием.
3. **Бронирование** — POST /reservations, блокировка мест на 10 минут, инвалидация кэша мест.
4. **Оплата** — POST /orders, аутентификация по телефону, интеграция с Pay API, webhook подтверждения, выдача билетов и отправка SMS.

Подробности — в [SRS.md](SRS.md).
