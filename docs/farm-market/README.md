# Farm-Market

E-commerce по продаже агрохимикатов на базе инфраструктуры Агропрогресс.

**Цели проекта:**
1. Создание CRM и автоматизация внутренних бизнес-процессов (ERP).
2. Развитие e-commerce-направления: переход от phone/email-взаимодействия к работе через сайт.

## Структура каталога

```
docs/farm-market/
├── README.md          # Обзор проекта
└── bpmn/              # BPMN-диаграммы
    ├── farm-market-as-is.bpmn   # Текущий процесс (as-is)
    └── farm-market-to-be.bpmn   # Целевой процесс (to-be)
```

## Артефакты

| Артефакт | Описание |
|----------|----------|
| **farm-market-as-is.bpmn** | Модель текущего процесса «Оформление заявки на покупку». Взаимодействие через email. |
| **farm-market-to-be.bpmn** | Модель целевого процесса. Заявка создаётся на сайте, автоматическая отправка КП. |

## As-is: текущий процесс

**Участники:** Оформление заявки (компания) ↔ Клиент.

**Каналы:** email.

**Роли (пулы):**
- Сотрудник — установка цен, создание КП, отправка писем, «взять в работу».
- Руководитель — утверждение цен.
- Склад — проверка наличия на складе.
- 1С — проверка резервов и закупки (товар в пути).

**Логика:**
1. Клиент отправляет письмо со списком товаров.
2. Параллельно: склад проверяет наличие, 1С — резервы и закупки.
3. Товар есть → сотрудник устанавливает цены → руководитель утверждает → создаётся КП → письмо с КП клиенту → ожидание ответа.
4. Товара нет → письмо «Нет в наличии» → завершение.
5. При отказе руководителя — заявка возвращается на доработку.

## To-be: целевой процесс

**Участники:** Сайт (система) ↔ Клиент.

**Каналы:** сайт (создание заявки), уведомления (email).

**Роли (пулы):**
- Сайт (система) — сохранение заявки, шаблоны КП, автоматическая отправка КП.
- Сотрудник — установка цен, формирование КП из шаблона, кнопки статусов.
- Руководитель — утверждение цен.
- Склад — проверка наличия.
- 1С — проверка резервов.

**Основные изменения:**
- Заявка создаётся на сайте (не по email).
- КП формируется из шаблона.
- Отправка КП — сервисная задача (serviceTask), не ручная.
- Статусы заявки: Новая → В работе → На утверждении → Утверждено → КП отправлено / Нет в наличии.
- Уведомления: «Нет в наличии», «КП получено», «Ревизия» — через сообщения между процессами.

**Формат:** Camunda BPMN 2.0 (Zeebe).
